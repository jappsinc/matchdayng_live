(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-29f689f0"],{"4dc8":function(t,s,a){"use strict";a("c0d6"),a("bc3a");var e=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(t.local){var s,a=t.local;if(null===a.av||void 0===a.av){s=a.us;var e=s;e&&"/avatars/av".concat(e.length-2+1,".png");return"https://api.adorable.io/avatars/285/"+e}return s=a.av,s}if(t.state){var o;a=t.state;if(""===a.av||null===a.av){o=t.state.us;e=o;return"https://api.adorable.io/avatars/285/"+e}return o=t.state.av,o}};s["a"]=e},da5d:function(t,s,a){"use strict";a.r(s);var e=function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{ref:"dealstofollow"},[a("div",{staticClass:"col col-xl-12 col-lg-12 col-md-12 col-sm-12 col-12"},[a("div",{staticClass:"ui-block"},[a("div",{staticClass:"ui-block-content"},[a("router-link",{staticClass:"title",staticStyle:{color:"#00AEEF"},attrs:{to:"/"}},[t._v("Back")])],1)])]),t._l(t.allDeals,(function(s,e){return a("div",{key:e,staticClass:"col col-xl-12 col-lg-12 col-md-12 col-sm-12 col-12"},[a("div",{staticClass:"ui-block"},[a("div",{staticClass:"birthday-item inline-items"},[a("div",{staticClass:"author-thumb"},[a("img",{attrs:{width:"40",height:"38",src:t.getAvatarLocal(s.logo,s.username),alt:"author"}})]),a("button",{staticClass:"btn btn-sm bg-mdd btn-rounded",attrs:{id:"followBBtn_"+e},on:{click:function(a){!0===s.is_following?t.unFollowDeals(s.id,e):t.followDeals(s.id,e)}}},[t._v(t._s(!0===s.is_following?"Unfollow":"Follow"))]),a("div",{staticClass:"birthday-author-name"},[a("a",{staticClass:"h6 author-name",attrs:{href:"#"}},[t._v(t._s(null===s.business_name||""===s.business_name?s.username:s.business_name)+" ")]),a("div",{staticClass:"birthday-date"},[t._v("@"+t._s(s.username))]),a("p",{staticStyle:{width:"100%"}},[t._v("\n                        "+t._s(s.business_desc)+"\n                    ")])])])])])}))],2)},o=[],l=a("4dc8"),n=a("591e"),i={name:"DealsToFollow.vue",data:function(){return{allDeals:{},signedIn:!1}},methods:{showLoading:function(){var t=this.$loader(this,this.$refs.dealstofollow,{loaderType:"spinner"});return t},getBusinesses:function(){var t=this,s=n["a"].getStorage("fansData"),a=this.showLoading();this.axios.get("businesses/alias/".concat(s[0].id,"/0")).then((function(s){a.hide(),t.allDeals=s.data.data.businesses})).catch((function(t){a.hide()}))},followDeals:function(t,s){var a=this;!0===this.signedIn?($("#followBBtn_"+s).parent(".twitter-item").css("opacity","0.6"),$("#followBBtn_"+s).html("..."),this.axios.post("user/follow/"+t).then((function(t){$("#followBBtn_"+s).parent(".twitter-item").css("opacity","1"),$("#followBBtn_"+s).html("Unfollow"),a.getBusinesses(),a.errorData={message:t.data.message,isError:"success"}})).catch((function(t){console.log(t.response),$("#followBBtn_"+s).parent(".twitter-item").css("opacity","1"),$("#followBBtn_"+s).html("Follow"),a.errorData={message:t.response.data.message,isError:!0}}))):$("#loginBtn").click()},unFollowDeals:function(t,s){var a=this;!0===this.signedIn?($("#followBBtn_"+s).parent(".twitter-item").css("opacity","0.6"),$("#followBBtn_"+s).html("..."),this.axios.post("user/unfollow/"+t).then((function(t){$("#followBBtn_"+s).parent(".twitter-item").css("opacity","1"),$("#followBBtn_"+s).html("Follow"),a.getBusinesses(),a.errorData={message:t.data.message,isError:"success"}})).catch((function(t){console.log(t.response),$("#followBBtn_"+s).parent(".twitter-item").css("opacity","1"),$("#followBBtn_"+s).html("Unfollow"),a.errorData={message:t.response.data.message,isError:!0}}))):$("#loginBtn").click()},getAvatarLocal:function(t,s){return Object(l["a"])({state:{av:t,us:s}})},checkUserData:function(t){""!==t||"undefined"!==t?(this.userData=JSON.parse(t),this.signedIn=!0):this.$router.push("/")}},mounted:function(){var t=localStorage.fansData;t&&this.checkUserData(t),this.getBusinesses(),$("title").html("Businesses to follow / "+this.$store.state.projectName)}},r=i,c=a("2877"),u=Object(c["a"])(r,e,o,!1,null,"0709c3fd",null);s["default"]=u.exports}}]);
//# sourceMappingURL=chunk-29f689f0.7b4eb977.js.map