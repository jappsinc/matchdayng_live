{"version":3,"sources":["webpack:///./src/functions/getAvatar.js","webpack:///./src/components/Home/BusinessToFollow.vue?32e8","webpack:///src/components/Home/BusinessToFollow.vue","webpack:///./src/components/Home/BusinessToFollow.vue?a98b","webpack:///./src/components/Home/BusinessToFollow.vue"],"names":["getAvatar","data","local","avatarLocal","avatar","av","undefined","us","uname","length","state","avatarState","render","_vm","this","_h","$createElement","_c","_self","ref","staticClass","staticStyle","attrs","_v","_l","deal","index","key","getAvatarLocal","logo","username","on","$event","is_following","unFollowDeals","id","followDeals","_s","business_name","business_desc","staticRenderFns","component"],"mappings":"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","file":"js/chunk-29f689f0.7b4eb977.js","sourcesContent":["import store from \"../store\";\r\nimport axios from \"axios\";\r\nconst getAvatar = (data = {}) => {\r\n    // data is used to pass in array function\r\n    // for local data pass in single array\r\n    // for state data pass in multiple array\r\n    if(data.local) {\r\n        var avatar = data.local;\r\n        var avatarLocal;\r\n        if (avatar.av === null || avatar.av === undefined) {\r\n            avatarLocal = avatar.us;\r\n            var uname = avatarLocal;\r\n            var immmg1 = uname\r\n                ? `/avatars/av${uname.length - (8 % 3) + 1}.png`\r\n                : \"/avatars/av1.png\";\r\n            // console.log(avatarLocal)\r\n            return \"https://api.adorable.io/avatars/285/\" + uname;\r\n            // return immmg1;\r\n        } else {\r\n            avatarLocal = avatar.av;\r\n            return avatarLocal;\r\n        }\r\n    }else if(data.state) {\r\n        // atate can be passed as\r\n        // state: { data: value, data2: value }\r\n        var avatar = data.state;\r\n        var avatarState;\r\n        if(avatar.av === \"\" || avatar.av === null) {\r\n            avatarState = data.state.us;\r\n            var uname = avatarState;\r\n            return \"https://api.adorable.io/avatars/285/\" + uname;\r\n            // var immmg = uname\r\n            //     ? `/avatars/av${uname.length - (8 % 3) + 1}.png`\r\n            //     : \"/avatars/av1.png\";\r\n            // return immmg;\r\n        }else {\r\n            avatarState = data.state.av;\r\n            return avatarState;\r\n        }\r\n    }\r\n};\r\n\r\nexport default getAvatar;\r\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{ref:\"dealstofollow\"},[_c('div',{staticClass:\"col col-xl-12 col-lg-12 col-md-12 col-sm-12 col-12\"},[_c('div',{staticClass:\"ui-block\"},[_c('div',{staticClass:\"ui-block-content\"},[_c('router-link',{staticClass:\"title\",staticStyle:{\"color\":\"#00AEEF\"},attrs:{\"to\":\"/\"}},[_vm._v(\"Back\")])],1)])]),_vm._l((_vm.allDeals),function(deal,index){return _c('div',{key:index,staticClass:\"col col-xl-12 col-lg-12 col-md-12 col-sm-12 col-12\"},[_c('div',{staticClass:\"ui-block\"},[_c('div',{staticClass:\"birthday-item inline-items\"},[_c('div',{staticClass:\"author-thumb\"},[_c('img',{attrs:{\"width\":\"40\",\"height\":\"38\",\"src\":_vm.getAvatarLocal(deal.logo,deal.username),\"alt\":\"author\"}})]),_c('button',{staticClass:\"btn btn-sm bg-mdd btn-rounded\",attrs:{\"id\":'followBBtn_' + index},on:{\"click\":function($event){deal.is_following === true ? _vm.unFollowDeals(deal.id,index) : _vm.followDeals(deal.id,index)}}},[_vm._v(_vm._s(deal.is_following === true ? 'Unfollow' : 'Follow'))]),_c('div',{staticClass:\"birthday-author-name\"},[_c('a',{staticClass:\"h6 author-name\",attrs:{\"href\":\"#\"}},[_vm._v(_vm._s(deal.business_name === null || deal.business_name === '' ? deal.username : deal.business_name)+\" \")]),_c('div',{staticClass:\"birthday-date\"},[_vm._v(\"@\"+_vm._s(deal.username))]),_c('p',{staticStyle:{\"width\":\"100%\"}},[_vm._v(\"\\n                        \"+_vm._s(deal.business_desc)+\"\\n                    \")])])])])])})],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <div ref=\"dealstofollow\">\r\n        <div class=\"col col-xl-12 col-lg-12 col-md-12 col-sm-12 col-12\">\r\n            <div class=\"ui-block\">\r\n                <div class=\"ui-block-content\">\r\n                    <router-link to=\"/\" style=\"color:#00AEEF\" class=\"title\">Back</router-link>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        <div v-for=\"(deal,index) in allDeals\" :key=\"index\" class=\"col col-xl-12 col-lg-12 col-md-12 col-sm-12 col-12\">\r\n            <div class=\"ui-block\">\r\n                <div class=\"birthday-item inline-items\">\r\n                    <div class=\"author-thumb\">\r\n                        <img width=\"40\" height=\"38\" :src=\"getAvatarLocal(deal.logo,deal.username)\" alt=\"author\">\r\n                    </div>\r\n                    <button :id=\" 'followBBtn_' + index \" @click=\" deal.is_following === true ? unFollowDeals(deal.id,index) : followDeals(deal.id,index)\" class=\"btn btn-sm bg-mdd btn-rounded\">{{ deal.is_following === true ? 'Unfollow' : 'Follow' }}</button>\r\n                    <div class=\"birthday-author-name\">\r\n                        <a href=\"#\" class=\"h6 author-name\">{{ deal.business_name === null || deal.business_name === '' ? deal.username : deal.business_name }} </a>\r\n                        <div class=\"birthday-date\">@{{deal.username}}</div>\r\n                        <p style=\"width: 100%;\">\r\n                            {{ deal.business_desc }}\r\n                        </p>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    import avta from \"@/functions/getAvatar\";\r\n    import ls from \"../../localstorage\";\r\n\r\n    export default {\r\n        name: \"DealsToFollow.vue\",\r\n        data() {\r\n            return {\r\n                allDeals: {},\r\n                signedIn: false,\r\n            }\r\n        },\r\n        methods: {\r\n            showLoading() {\r\n                let loader = this.$loader(this, this.$refs.dealstofollow, {\r\n                    loaderType: \"spinner\"\r\n                });\r\n                return loader;\r\n            },\r\n            getBusinesses() {\r\n                let userData = ls.getStorage(\"fansData\");\r\n                let loader = this.showLoading();\r\n                this.axios\r\n                    .get(`businesses/alias/${userData[0].id}/0`)\r\n                    .then(response => {\r\n                        loader.hide();\r\n                        this.allDeals = response.data.data.businesses;\r\n                        // console.log('deals to follow',response.data.data.businesses);\r\n                    })\r\n                    .catch(error => {\r\n                        loader.hide();\r\n                        // console.log(error.response);\r\n                    });\r\n            },\r\n            followDeals(bid,index) {\r\n                if(this.signedIn === true) {\r\n                    $(\"#followBBtn_\" + index).parent(\".twitter-item\").css('opacity','0.6');\r\n                    $(\"#followBBtn_\" + index).html('...');\r\n                    this.axios.post('user/follow/' + bid)\r\n                        .then(response => {\r\n                            // console.log(response.data);\r\n                            $(\"#followBBtn_\" + index).parent(\".twitter-item\").css('opacity','1');\r\n                            $(\"#followBBtn_\" + index).html('Unfollow');\r\n                            this.getBusinesses();\r\n                            this.errorData = {\r\n                                message: response.data.message,\r\n                                isError: \"success\"\r\n                            }\r\n                        })\r\n                        .catch(error => {\r\n                            console.log(error.response);\r\n                            $(\"#followBBtn_\" + index).parent(\".twitter-item\").css('opacity','1');\r\n                            $(\"#followBBtn_\" + index).html('Follow');\r\n                            this.errorData = {\r\n                                message: error.response.data.message,\r\n                                isError: true\r\n                            }\r\n                        })\r\n                }else {\r\n                    $('#loginBtn').click();\r\n                }\r\n\r\n            },\r\n            unFollowDeals(bid,index) {\r\n                if(this.signedIn === true) {\r\n                    $(\"#followBBtn_\" + index).parent(\".twitter-item\").css('opacity','0.6');\r\n                    $(\"#followBBtn_\" + index).html('...');\r\n                    this.axios.post('user/unfollow/' + bid)\r\n                        .then(response => {\r\n                            // console.log(response.data);\r\n                            $(\"#followBBtn_\" + index).parent(\".twitter-item\").css('opacity','1');\r\n                            $(\"#followBBtn_\" + index).html('Follow');\r\n                            this.getBusinesses();\r\n                            this.errorData = {\r\n                                message: response.data.message,\r\n                                isError: \"success\"\r\n                            }\r\n                        })\r\n                        .catch(error => {\r\n                            console.log(error.response);\r\n                            $(\"#followBBtn_\" + index).parent(\".twitter-item\").css('opacity','1');\r\n                            $(\"#followBBtn_\" + index).html('Unfollow');\r\n                            this.errorData = {\r\n                                message: error.response.data.message,\r\n                                isError: true\r\n                            }\r\n                        })\r\n                }else {\r\n                    $('#loginBtn').click();\r\n                }\r\n\r\n            },\r\n            getAvatarLocal(avatar,username) {\r\n                // let userData = localStorage.fansData;\r\n                return avta({state:{ av: avatar, us: username }});\r\n            },\r\n            checkUserData(userData) {\r\n                if (userData !== \"\" || userData !== \"undefined\") {\r\n                    this.userData = JSON.parse(userData);\r\n                    this.signedIn = true;\r\n                }else {\r\n                    this.$router.push('/');\r\n                }\r\n            },\r\n        },\r\n        mounted() {\r\n            var userData = localStorage.fansData;\r\n            if (userData) {\r\n                this.checkUserData(userData);\r\n            }\r\n            this.getBusinesses();\r\n\r\n            $(\"title\").html(\"Businesses to follow / \" + this.$store.state.projectName);\r\n        }\r\n    }\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BusinessToFollow.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BusinessToFollow.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./BusinessToFollow.vue?vue&type=template&id=0709c3fd&scoped=true&\"\nimport script from \"./BusinessToFollow.vue?vue&type=script&lang=js&\"\nexport * from \"./BusinessToFollow.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"0709c3fd\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}