(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-404b745b"],{"1ebd":function(e,t,a){"use strict";var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"modal fade",attrs:{id:"edit-my-poll-popup",tabindex:"-1",role:"dialog","aria-labelledby":"edit-my-poll-popup","aria-hidden":"true"}},[a("div",{staticClass:"modal-dialog window-popup edit-my-poll-popup",staticStyle:{width:"600px"},attrs:{role:"document"}},[a("div",{staticClass:"modal-content",staticStyle:{"background-color":"transparent",border:"none"}},[a("div",{ref:"showMatchReviewBox",staticClass:"modal-body"},[a("div",{staticClass:"edit-my-poll-content no-padding"},[a("response-message",{attrs:{data:e.errorData}}),a("form",{staticClass:"resume-form",attrs:{method:"post",enctype:"multipart/form-data"},on:{submit:function(t){return t.preventDefault(),e.reviewListerner(t)}}},[a("div",{staticClass:"ttweetBox"},[a("div",{staticClass:"ttweetBoxHeader"},[a("a",{staticClass:"close icon-close",attrs:{href:"#","data-dismiss":"modal","aria-label":"Close"}},[a("svg",{staticClass:"olymp-close-icon"},[a("use",{attrs:{"xlink:href":"svg-icons/sprites/icons.svg#olymp-close-icon"}})])]),a("p",{staticStyle:{float:"left"}},[e._v(e._s("review"===e.reviewType?"Write Review":"Update review")+" ")]),"0"!==e.matchId&&""!==e.home_team_logo?a("div",{staticStyle:{float:"left","padding-left":"10px"}},[a("span",{staticStyle:{color:"#0c5460","font-weight":"bold",float:"left"}},[e._v(" for")]),a("div",{staticClass:"small-vs-logo"},[a("img",{attrs:{src:e.home_team_logo}}),a("p",[e._v(e._s(e.homeTeamName))])]),a("span",{staticStyle:{color:"#000","font-weight":"bold",float:"left",position:"relative",top:"5px",margin:"0 10px"}},[e._v("VS")]),a("div",{staticClass:"small-vs-logo"},[a("img",{attrs:{src:e.away_team_logo}}),a("p",[e._v(e._s(e.awayTeamName))])])]):e._e()]),a("div",{staticClass:"ttweetBoxBody"},[a("div",{staticClass:"ttweetBoxImage "},[a("div",{staticClass:"img"},[a("img",{attrs:{src:e.getAvatarLocal()}})])]),a("div",{staticClass:"ttweetBoxText"},[a("textarea",{directives:[{name:"model",rawName:"v-model",value:e.formModelReview.review,expression:"formModelReview.review"}],attrs:{name:"review",placeholder:"What's on your mind",id:"review"},domProps:{value:e.formModelReview.review},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:t.ctrlKey?e.reviewListerner(t):null},input:function(t){t.target.composing||e.$set(e.formModelReview,"review",t.target.value)}}}),a("div",{staticClass:"uploadedFile"},[a("span",{staticStyle:{width:"100%"}}),"video"===e.fileType?a("div",{attrs:{id:"videoDiv"}},[a("div",{attrs:{id:"videoBlock"}},[a("video",{staticClass:"popUpModVid",attrs:{id:"video",preload:"auto",src:""}}),a("div",{staticClass:"pausePlayBox popUpMod",on:{click:function(t){return e.setVideo()}}},[a("i",{staticClass:"pplay fa fa-play-circle"})])])]):e._e(),a("div",{staticClass:"uploadedFileCancle",on:{click:function(t){return e.removeSelectedPicture()}}},[a("svg",{staticClass:"olymp-like-post-icon"},[a("use",{attrs:{"xlink:href":"/svg-icons/sprites/icons.svg#olymp-little-delete"}})])])])])]),a("div",{staticClass:"ttweetBoxFooter"},[a("div",{staticClass:"box1"},[a("input",{staticStyle:{display:"none"},attrs:{type:"file",id:"getImage",name:"image_name"},on:{change:e.previewImage}}),a("div",{staticStyle:{display:"flex","justify-content":"space-between",width:"120px"}},[a("div",[a("svg",{staticClass:"olymp-like-post-icon",on:{click:function(t){return e.getImage("image")}}},[a("use",{attrs:{"xlink:href":"/svg-icons/sprites/icons.svg#olymp-camera-icon"}})]),a("p",{staticClass:"text-center"},[e._v("Image")])]),a("div",[a("svg",{staticClass:"olymp-like-post-icon pplay",on:{click:function(t){return e.getImage("video")}}},[a("use",{attrs:{"xlink:href":"/svg-icons/sprites/icons.svg#olymp-play-icon"}})]),a("p",{staticClass:"text-center"},[e._v("Video")])])])]),a("div",{staticClass:"box2"},[a("button",{staticClass:"btn bg-mdd btn-md-2 full-width",attrs:{id:"reviewPostButton"}},[e._v(" "+e._s("review"===e.reviewType?"Post":"Update"))])])])])])],1)])])])]),e._m(0)])},s=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"modal fade",attrs:{id:"quiteOption",tabindex:"-1",role:"dialog","aria-labelledby":"exampleModalCenterTitle","aria-hidden":"true"}},[a("div",{staticClass:"modal-dialog modal-dialog-centered",attrs:{role:"document"}},[a("div",{staticClass:"modal-content"},[a("div",{staticClass:"modal-header"},[a("h5",{staticClass:"modal-title",attrs:{id:"exampleModalLongTitle"}},[e._v("Modal title")]),a("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[a("span",{attrs:{"aria-hidden":"true"}},[e._v("Ã—")])])]),a("div",{staticClass:"modal-body"},[e._v("\n                        ...\n                    ")]),a("div",{staticClass:"modal-footer"},[a("button",{staticClass:"btn btn-secondary",attrs:{type:"button","data-dismiss":"modal"}},[e._v("Close")]),a("button",{staticClass:"btn btn-primary",attrs:{type:"button"}},[e._v("Save changes")])])])])])}],o=(a("7f7f"),a("28a5"),a("4917"),a("2f62")),l=a("4dc8"),r={name:"PostReview.vue",components:{},data:function(){return{homeTeamName:"",awayTeamName:"",home_team_logo:"",away_team_logo:"",matchId:"",errorData:{},imageData:"string",imageName:"",formModelReview:{review:""},reviewType:"",percentage:10,fileType:"",selectedVideoFile:"",review_id:"",index:"",feedDetails:"",imgSrc:""}},computed:Object(o["b"])({getAvatar:function(e){return e.user.avatar},getUsername:function(e){return e.user.username},getUserContributions:function(e){return e.contributions}}),methods:{setVideo:function(){var e=$(".popUpModVid")[0];e.paused?(e.play(),$(".popUpMod").hide()):e.pause()},getAvatarLocal:function(){var e=Object(l["a"])({state:{av:this.getAvatar,us:this.getUsername}});return e},setMatch:function(){var e=this;if(this.errorData={isError:!1},"0"!==this.matchId){var t=this.feedDetails;if(void 0!==t)this.homeTeamName=t.match.home_team_name,this.awayTeamName=t.match.away_team_name,this.home_team_logo=t.match.home_team_badge,this.away_team_logo=t.match.away_team_badge;else{var a=this.matchId;this.axios.get("matches/single_by_key/".concat(a)).then((function(t){var i=t.data.data.match;e.matchId=a,e.homeTeamName=i.home_team_name,e.awayTeamName=i.away_team_name,e.home_team_logo=i.home_team_badge,e.away_team_logo=i.away_team_badge})).catch((function(){$("#edit-my-poll-popup").modal("hide")}))}}},getImage:function(e){this.fileType=e,$("#getImage").click()},humanFileSize:function(e){var t=Math.floor(Math.log(e)/Math.log(1024));return 1*(e/Math.pow(1024,t)).toFixed(2)+" "+["B","kB","MB","GB","TB"][t]},editSelectedPicture:function(){var e=this,t=$("#getImage").get(0).files[0];if("function"===typeof FileReader){var a=new FileReader;a.onload=function(t){e.imgSrc=t.target.result,$(".mod").removeClass("d-none")},a.readAsDataURL(t)}else console.log("Sorry we just faced an error")},previewImage:function(e){this.errorData={};var t=$("#getImage").get(0).files[0];if(t.size>30529791||t.size>30529791)this.errorData={message:"Sorry only files less than 16 MB",isError:!0};else if($("#getImage").get(0).files.length>0)if($("#reviewPostButton").attr("disabled",!1),"image"===this.fileType)if("png"!==$("#getImage").get(0).files[0].name.split(".").pop()&&"jpg"!==$("#getImage").get(0).files[0].name.split(".").pop()&&"jpeg"!==$("#getImage").get(0).files[0].name.split(".").pop()&&"gif"!==$("#getImage").get(0).files[0].name.split(".").pop())this.errorData={message:"Sorry images can only be (Jpg - Png - Gif)",isError:!0};else{var a=e.target.files[0],i='<img src="'.concat(URL.createObjectURL(a),'">');$(".uploadedFile").css("display","flex"),$(".uploadedFileCancle").css("display","flex"),$(".uploadedFileEdit").css("display","flex"),$(".uploadedFile span").html(i)}else if("video"===this.fileType)if("mp4"!==$("#getImage").get(0).files[0].name.split(".").pop()&&"m4v"!==$("#getImage").get(0).files[0].name.split(".").pop()&&"MOV"!==$("#getImage").get(0).files[0].name.split(".").pop()&&"mkv"!==$("#getImage").get(0).files[0].name.split(".").pop())this.errorData={message:"Sorry videos can only be (Mp4, M4v, Mov, Mkv)",isError:!0};else{var s=$("#getImage").get(0).files[0],o=s.name.split(".").pop(),l=e.target.files[0];"mp4"!==o&&"m4v"!==o&&"MOV"!==o&&"mkv"!==o||($(".uploadedFile").css("display","block"),$(".uploadedFileCancle").css("display","flex"),this.selectedVideoFile=URL.createObjectURL(l),$(".popUpModVid").attr("src",URL.createObjectURL(l)))}else $("#reviewPostButton").attr("disabled",!0)},removeSelectedPicture:function(){$("#getImage").val(""),$(".uploadedFile").css("display","none"),$(".uploadedFileCancle").css("display","none"),$(".uploadedFile span").html(""),$(".uploadedFile video").attr("src","")},getImageDetails:function(){if($("#getImage").get(0).files.length>0){var e=$("#getImage").get(0).files[0].name;$("#imageName").val(e);var t=e.split(".");return t[0]}},clearForm:function(){this.formModelReview.review="",this.matchId="",$("#getImage").val(""),$("#imageName").val("")},reviewListerner:function(){this.sortReview()},sortReview:function(){var e=this;$("#reviewPostButton").attr("disabled",!0);var t=this.reviewType;this.errorData={};var a="",i=new FormData,s=$("#getImage").get(0).files[0];if(void 0!==s){$("#reviewPostButton").attr("disabled",!1);var o=s.name.split(".").pop();if("png"===o||"jpg"===o||"jpeg"===o||"gif"===o)i.append("image",s);else{if("mp4"!==o&&"m4v"!==o&&"MOV"!==o&&"mkv"!==o)return $("#reviewPostButton").attr("disabled",!0),!1;i.append("video",s)}}else if(""===this.formModelReview.review&&void 0===s)return this.errorData={message:"Your review cannot be empty",isError:!0},!1;"review"===t?(a="reviews/create",i.append("match_key",this.matchId)):"update"===t&&(a="reviews/update",i.append("review_id",this.review_id)),i.append("reviews",this.formModelReview.review);var l={onUploadProgress:function(e){$(".circleProgressBarClass").css("display","flex");var t=Math.round(100*e.loaded/e.total);$("#reviewPostButton").html("Uploading (".concat(t,"%)"))}};this.axios.post(a,i,l).then((function(){e.errorData={message:"Your review has been uploaded successfully",isError:"success"},e.formModelReview.review="",$("#review").val(""),$("#imageName").val(""),$("#getImage").val(""),window.eventBus.$emit("loadFeeds",!0),$("#reviewPostButton").attr("disabled",!1),$(".circleProgressBarClass").css("display","none"),$("#reviewPostButton").html("Post"),e.removeSelectedPicture(),$("#edit-my-poll-popup").modal("hide"),e.errorData={message:"",isError:!1}})).catch((function(t){$(".circleProgressBarClass").css("display","none"),$("#review").attr("disabled",!1),$("#reviewPostButton").attr("disabled",!1),$("#imageName").attr("disabled",!1),$("#getImage").attr("disabled",!1),e.errorData={message:500===t.response.status?"Opps! this was not meant to happen":t.response?"Please check your Review and image (Jpg, Png - Only)":"Sorry an error occurred, check your internet",isError:!0}}))}},mounted:function(){var e=this;window.eventBus.$on("review_option",(function(t){if(e.matchId=t.matchId,e.reviewType=t.type,e.review_id=t.review_id,e.index=t.index,e.feedDetails=t.feed,e.formModelReview.review=t.feed?t.feed.review:"","update"===t.type)if(t.feed&&t.feed.images.length>0){var a=t.feed.images[0].src;if("1"===t.feed.images[0].type){var i='<img src="'.concat(a,'">');$(".uploadedFile").css("display","flex"),$(".uploadedFileCancle").css("display","flex"),$(".uploadedFile span").html(i)}else $(".uploadedFile").css("display","block"),$(".uploadedFileCancle").css("display","flex"),e.selectedVideoFile=a,$(".popUpModVid").attr("src",a)}else $(".uploadedFile").css("display","none"),$(".uploadedFileCancle").css("display","none");e.setMatch()}))}},n=r,d=a("2877"),c=Object(d["a"])(n,i,s,!1,null,"2bedf7cc",null);t["a"]=c.exports},"28a5":function(e,t,a){"use strict";var i=a("aae3"),s=a("cb7c"),o=a("ebd6"),l=a("0390"),r=a("9def"),n=a("5f1b"),d=a("520a"),c=a("79e5"),m=Math.min,v=[].push,u="split",p="length",g="lastIndex",f=4294967295,h=!c((function(){RegExp(f,"y")}));a("214f")("split",2,(function(e,t,a,c){var w;return w="c"=="abbc"[u](/(b)*/)[1]||4!="test"[u](/(?:)/,-1)[p]||2!="ab"[u](/(?:ab)*/)[p]||4!="."[u](/(.?)(.?)/)[p]||"."[u](/()()/)[p]>1||""[u](/.?/)[p]?function(e,t){var s=String(this);if(void 0===e&&0===t)return[];if(!i(e))return a.call(s,e,t);var o,l,r,n=[],c=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")+(e.sticky?"y":""),m=0,u=void 0===t?f:t>>>0,h=new RegExp(e.source,c+"g");while(o=d.call(h,s)){if(l=h[g],l>m&&(n.push(s.slice(m,o.index)),o[p]>1&&o.index<s[p]&&v.apply(n,o.slice(1)),r=o[0][p],m=l,n[p]>=u))break;h[g]===o.index&&h[g]++}return m===s[p]?!r&&h.test("")||n.push(""):n.push(s.slice(m)),n[p]>u?n.slice(0,u):n}:"0"[u](void 0,0)[p]?function(e,t){return void 0===e&&0===t?[]:a.call(this,e,t)}:a,[function(a,i){var s=e(this),o=void 0==a?void 0:a[t];return void 0!==o?o.call(a,s,i):w.call(String(s),a,i)},function(e,t){var i=c(w,e,this,t,w!==a);if(i.done)return i.value;var d=s(e),v=String(this),u=o(d,RegExp),p=d.unicode,g=(d.ignoreCase?"i":"")+(d.multiline?"m":"")+(d.unicode?"u":"")+(h?"y":"g"),y=new u(h?d:"^(?:"+d.source+")",g),_=void 0===t?f:t>>>0;if(0===_)return[];if(0===v.length)return null===n(y,v)?[v]:[];var b=0,C=0,$=[];while(C<v.length){y.lastIndex=h?C:0;var x,M=n(y,h?v:v.slice(C));if(null===M||(x=m(r(y.lastIndex+(h?0:C)),v.length))===b)C=l(v,C,p);else{if($.push(v.slice(b,C)),$.length===_)return $;for(var I=1;I<=M.length-1;I++)if($.push(M[I]),$.length===_)return $;C=b=x}}return $.push(v.slice(b)),$}]}))},4917:function(e,t,a){"use strict";var i=a("cb7c"),s=a("9def"),o=a("0390"),l=a("5f1b");a("214f")("match",1,(function(e,t,a,r){return[function(a){var i=e(this),s=void 0==a?void 0:a[t];return void 0!==s?s.call(a,i):new RegExp(a)[t](String(i))},function(e){var t=r(a,e,this);if(t.done)return t.value;var n=i(e),d=String(this);if(!n.global)return l(n,d);var c=n.unicode;n.lastIndex=0;var m,v=[],u=0;while(null!==(m=l(n,d))){var p=String(m[0]);v[u]=p,""===p&&(n.lastIndex=o(d,s(n.lastIndex),c)),u++}return 0===u?null:v}]}))},"4dc8":function(e,t,a){"use strict";a("c0d6"),a("bc3a");var i=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(e.local){var t,a=e.local;if(null===a.av||void 0===a.av){t=a.us;var i=t;i&&"/avatars/av".concat(i.length-2+1,".png");return"https://api.adorable.io/avatars/285/"+i}return t=a.av,t}if(e.state){var s;a=e.state;if(""===a.av||null===a.av){s=e.state.us;i=s;return"https://api.adorable.io/avatars/285/"+i}return s=e.state.av,s}};t["a"]=i},"7f7f":function(e,t,a){var i=a("86cc").f,s=Function.prototype,o=/^\s*function ([^ (]*)/,l="name";l in s||a("9e1e")&&i(s,l,{configurable:!0,get:function(){try{return(""+this).match(o)[1]}catch(e){return""}}})},"7fe6":function(e,t,a){"use strict";var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"modal fade",attrs:{id:"edit-widget-twitter",tabindex:"-1",role:"dialog","aria-labelledby":"edit-widget-twitter","aria-hidden":"true"}},[a("div",{staticClass:"modal-dialog window-popup edit-widget edit-widget-twitter",attrs:{role:"document"}},[a("div",{staticClass:"modal-content"},[a("a",{staticClass:"close icon-close",attrs:{href:"#","data-dismiss":"modal","aria-label":"Close"}},[a("svg",{staticClass:"olymp-close-icon"},[a("use",{attrs:{"xlink:href":"svg-icons/sprites/icons.svg#olymp-close-icon"}})])]),e._m(0),a("div",{staticClass:"modal-body"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.searchMatch,expression:"searchMatch"}],staticClass:"form-control",attrs:{id:"searchMatch",name:"searchMatch",placeholder:"Search Match"},domProps:{value:e.searchMatch},on:{keyup:e.getFixtures,input:function(t){t.target.composing||(e.searchMatch=t.target.value)}}}),a("div",{staticClass:"population"},[e._m(1),e._l(e.searchResult,(function(t,i){return a("div",{key:i,staticClass:"versus"},[a("div",{staticClass:"post__date text-center"},[a("time",{staticClass:"published",attrs:{datetime:"2017-03-24T18:18"}},[e._v("\n                  "+e._s(e.dateString(t.event_date))+"\n                ")])]),a("div",{staticClass:"row dll",attrs:{id:e.setMatchId(t.id)},on:{click:function(a){return e.selectMatch(t.id)}}},[a("div",{staticClass:"col"},[""===t.home_team_logo||"undefined"===t.home_team_logo?a("div",{staticClass:"versus-img"}):e._e(),a("div",{staticClass:"versus-img"},[a("img",{attrs:{src:t.home_team_logo}})])]),a("div",{staticClass:"col-6"},[a("div",{staticClass:"caption"},[!0===t.is_past?a("div",{staticClass:"badge bg-info"},[e._v("Old Match")]):e._e(),a("h5",[e._v("VS")])])]),a("div",{staticClass:"col"},[""===t.away_team_logo||"undefined"===t.away_team_logo?a("div",{staticClass:"versus-img"}):e._e(),a("div",{staticClass:"versus-img"},[a("img",{attrs:{src:t.away_team_logo}})])])])])}))],2),a("button",{staticClass:"btn bg-twitter btn-lg full-width btn-icon-left",attrs:{id:"matchSButton","data-toggle":"modal","data-target":"#edit-my-poll-popup",disabled:""},on:{click:function(t){return e.setMatch()}}},[e._v("Select Match")])])])])])])},s=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"modal-header"},[a("h6",{staticClass:"title"},[e._v("Type team name")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"hide",staticStyle:{width:"100%","text-align":"center"},attrs:{id:"tl"}},[a("img",{attrs:{src:"/image/lg.gooey-ball-lodaer.gif",width:"60"}})])}],o=(a("1157"),{data:function(){return{searchMatch:"",searchResult:{},matchId:"",errorData:{}}},methods:{dateString:function(e){return this.$getDateYear(e)},getFixtures:function(){var e=this,t=this.searchMatch;$("#tl").removeClass("hide"),this.axios.get("fixtures/search/"+t).then((function(t){$("#tl").addClass("hide"),e.searchResult=t.data.data.fixtures})).catch((function(e){$("#tl").addClass("hide")}))},setMatchId:function(e){return"match_"+e},selectMatch:function(e){arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.matchId=e,$("#matchSButton").attr("disabled",!1),$(".dll").removeClass("selected"),$("#match_"+e).addClass("selected")},setMatch:function(){var e=this.matchId;window.eventBus.$emit("matchID",e)}},mounted:function(){window.eventBus.$on("reviewBox",(function(e){!0===e&&$("#edit-widget-twitter").modal("show")}))}}),l=o,r=a("2877"),n=Object(r["a"])(l,i,s,!1,null,null,null);t["a"]=n.exports}}]);
//# sourceMappingURL=chunk-404b745b.1fddf68f.js.map