(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-8799e188"],{1222:function(e,t,a){"use strict";var n=a("9206"),s=a.n(n);s.a},"1af6":function(e,t,a){var n=a("63b6");n(n.S,"Array",{isArray:a("9003")})},"75fc":function(e,t,a){"use strict";a.d(t,"a",(function(){return c}));var n=a("a745"),s=a.n(n);function i(e){if(s()(e)){for(var t=0,a=new Array(e.length);t<e.length;t++)a[t]=e[t];return a}}var r=a("774e"),d=a.n(r),o=a("c8bb"),u=a.n(o);function f(e){if(u()(Object(e))||"[object Arguments]"===Object.prototype.toString.call(e))return d()(e)}function l(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function c(e){return i(e)||f(e)||l()}},"774e":function(e,t,a){e.exports=a("d2d5")},9206:function(e,t,a){},a745:function(e,t,a){e.exports=a("f410")},c8bb:function(e,t,a){e.exports=a("54a1")},e1a9:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{ref:"newsfeeds",attrs:{id:"newsfeed-items-grid"}},[a("timeline-review",{attrs:{signedIn:e.signedIn}})],1)])},s=[],i=a("1157"),r=a.n(i),d=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{ref:"timelineReview",staticStyle:{"margin-top":"47px"}},[a("spinner",{attrs:{data:e.spinnerData}}),a("all-feeds",{attrs:{feeds:e.feeds,"feed-status":e.feedsStatus,"feeds-count":e.fullFeedsCount}})],1)])},o=[],u=a("75fc"),f=(a("7f7f"),a("65a3")),l=a("2f62"),c={name:"timelineReview",components:{allFeeds:f["a"]},data:function(){return{feeds:[],spinnerData:{},feedsStatus:Boolean,next_page_url:"",last_page_url:"",first_page_url:"",current_page:"",last_page:"",fullFeedsCount:""}},props:{signedIn:Boolean},watch:{feeds:function(e){}},computed:Object(l["b"])({getUserDetails:function(e){return e.user}}),created:function(){window.addEventListener("focus",this.showTweet),setInterval(this.showTweet,5e4),this.getAllReviews()},mounted:function(){var e=this;window.addEventListener("focus",this.showTweet),window.eventBus.$on("loadFeeds",(function(t){!0===t&&e.getAllReviews()})),window.eventBus.$on("loadMoreReview",(function(t){var a=e.$route.name;if("NewsFeed"===a&&!0===t){var n=e.next_page_url;e.addReview(n)}})),this.showLoading();var t=$("#video");$.each(t,(function(){this.controls=!1}))},methods:{showTweet:function(){var e=this.feeds?this.feeds[0].created_at:null;e&&this.axios.get("/timeline/check_feeds/".concat(e)).then((function(e){var t=e.data.data.status;t&&(window.eventBus.$emit("loadFeeds",!0),window.eventBus.$emit("newReview",!0))})).catch((function(e){return e}))},showLoading:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this.spinnerData={spinner:"Jumper",isLoading:void 0===e.show||e.show,color:"#00bfff",size:"60px",options:"center relative"};return t},getNewReviews:function(){var e=this,t=0;this.getUserDetails.id&&(t=this.getUserDetails.id),this.axios.get("/timeline/reviews/all/".concat(t,"/20")).then((function(t){var a,n=t.data.data.feeds.data;e.feeds=[],(a=e.feeds).unshift.apply(a,Object(u["a"])(n)),e.fullFeedsCount=t.data.data.feeds_count,n.length>0?e.feedsStatus=!0:e.feedsStatus=!1,e.next_page_url=t.data.data.feeds.next_page_url,e.last_page_url=t.data.data.feeds.last_page_url,e.first_page_url=t.data.data.feeds.first_page_url,e.current_page=t.data.data.feeds.from,e.last_page=t.data.data.feeds.to}))},getAllReviews:function(){var e=this;this.showLoading({show:!0});var t=0;this.getUserDetails.id&&(t=this.getUserDetails.id),this.axios.get("/timeline/reviews/all/".concat(t,"/30")).then((function(t){var a;e.showLoading({show:!1});var n=t.data.data.feeds.data;e.feeds=[],(a=e.feeds).push.apply(a,Object(u["a"])(n)),e.fullFeedsCount=t.data.data.feeds.total,n.length>0?e.feedsStatus=!0:e.feedsStatus=!1,e.next_page_url=t.data.data.feeds.next_page_url,e.last_page_url=t.data.data.feeds.last_page_url,e.first_page_url=t.data.data.feeds.first_page_url,e.current_page=t.data.data.feeds.from,e.last_page=t.data.data.feeds.to,e.addReview(t.data.data.feeds.next_page_url)})).catch((function(t){return e.showLoading({show:!1}),t}))},addReview:function(e){var t=this;this.getUserDetails.id&&this.getUserDetails.id,window.eventBus.$emit("loadingFeed",!0),this.axios.get(e).then((function(e){var a;window.eventBus.$emit("loadingFeed",!1),t.showLoading({show:!1});var n=e.data.data.feeds.data;(a=t.feeds).push.apply(a,Object(u["a"])(n)),t.fullFeedsCount=e.data.data.feeds_count,t.next_page_url=e.data.data.feeds.next_page_url,t.last_page_url=e.data.data.feeds.last_page_url,t.first_page_url=e.data.data.feeds.first_page_url,t.current_page=e.data.data.feeds.from,t.last_page=e.data.data.feeds.to})).catch((function(e){return t.showLoading({show:!1}),e}))}}},h=c,g=a("2877"),p=Object(g["a"])(h,d,o,!1,null,"48b8e84c",null),w=p.exports,_={moreFeeds:!1,timelineReview:"",feedImages:"",withFixture:!1,fullFeedsCount:"",formModelComment:{comment:""},user_likes:"",signedIn:!1,userData:""},v=r.a,m={name:"Newsfeeds",data:function(){return _},props:["fixtureId"],components:{timelineReview:w},watch:{},created:function(){},methods:{getTime:function(){},getUserLikes:function(e){var t="",a=e.length;return t=a>0&&1===a?'\n      <a href="#">User</a>\n      <br />liked this\n    ':a>1&&3===a?'\n      <a href="#">You</a>,\n      <a href="#">Elaine</a> and\n      <br />1 more liked this\n    ':a>3?'\n      <a href="#">You</a>,\n      <a href="#">Elaine</a> and\n      <br /> '.concat(a-2," more liked this\n    "):"",t},checkUserData:function(e){""===e&&"undefined"===e||(this.userData=JSON.parse(e),this.signedIn=!0)},bottomVisible:function(){var e=window.scrollY,t=document.documentElement.clientHeight,a=document.documentElement.scrollHeight,n=t+e>=a;return n||a<t},getMetaDataUrl:function(e){this.axios.get("https://api.urlmeta.org/?url=".concat(e)).then((function(e){})).catch((function(e){}))},loadMorePost:function(){var e=this,t=(this.current_page,this.last_page,this.next_page_url);v("#newsfeed-items-grid");this.axios.get("".concat(t)).then((function(t){var a=t.data.data.feeds.data;e.feeds;e.feeds[0].push(a)})).catch((function(e){return e}))}},mounted:function(){this.$props.fixtureId?this.withFixture=!0:this.withFixture=!1,this.getTime();var e=localStorage.fansData;e&&this.checkUserData(e)}},x=m,b=(a("1222"),Object(g["a"])(x,n,s,!1,null,null,null));t["default"]=b.exports},f410:function(e,t,a){a("1af6"),e.exports=a("584a").Array.isArray}}]);
//# sourceMappingURL=chunk-8799e188.bb12b043.js.map